{"version":3,"sources":["webpack:///static/js/9.acb178f2c244fc6edfcb.js","webpack:///./src/views/up_pwd.vue?b71d","webpack:///./src/views/up_pwd.vue?6222","webpack:///./src/views/up_pwd.vue","webpack:///./src/views/up_pwd.vue?3a00","webpack:///./src/views/up_pwd.vue?6cd6"],"names":["webpackJsonp","3dwZ","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","Um5G","__webpack_exports__","injectStyle","ssrContext","Object","defineProperty","value","helpers_extends","extends_default","n","vuex_esm","validate","x_button","flexbox","flexbox_item","views_up_pwd","name","components","XButton","Flexbox","FlexboxItem","data","id","oldPassword","newPassword","reNewPassword","created","that","this","current","$store","dispatch","undefined","info","computed","methods","reviseBtn","_ref","oldPwdVal","pwdVal","rePwdVal","$vux","toast","text","isPwd","params","keyBytes","ivBytes","dk","keythereum","create","options","kdf","cipher","kdfparams","c","dklen","prf","global_keystore","keystore","recover","privateKey","toString","dump","salt","iv","keyObject","then","$router","show","type","catch","err","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","attrs","show-clear","placeholder","domProps","on","input","$event","target","composing","_v","_m","nativeOn","click","staticRenderFns","esExports","selectortype_template_index_0_src_views_up_pwd","normalizeComponent","__vue_styles__","Component","VsWc","content","locals"],"mappings":"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","file":"static/js/9.acb178f2c244fc6edfcb.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ \"3dwZ\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.passport-content[data-v-a542d316] {\\n  padding: 0.4rem 0.533333rem;\\n}\\n.passport-content .passport-tips[data-v-a542d316] {\\n  margin-top: 0.266667rem;\\n  line-height: 2;\\n  color: #333;\\n  text-align: left;\\n  font-size: 0.373333rem;\\n}\\n.passport-content .passport-footer[data-v-a542d316] {\\n  position: fixed;\\n  bottom: 0.533333rem;\\n  left: 0.533333rem;\\n  right: 0.533333rem;\\n}\\n.passport-content .passport-footer .btn[data-v-a542d316] {\\n  line-height: 1.066667rem;\\n  height: 1.066667rem;\\n  font-size: 0.373333rem;\\n}\", \"\", {\"version\":3,\"sources\":[\"C:/wap_wallet/wallet/app/src/views/up_pwd.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,4BAA4B;CAC7B;AACD;EACE,wBAAwB;EACxB,eAAe;EACf,YAAY;EACZ,iBAAiB;EACjB,uBAAuB;CACxB;AACD;EACE,gBAAgB;EAChB,oBAAoB;EACpB,kBAAkB;EAClB,mBAAmB;CACpB;AACD;EACE,yBAAyB;EACzB,oBAAoB;EACpB,uBAAuB;CACxB\",\"file\":\"up_pwd.vue\",\"sourcesContent\":[\"\\n.passport-content[data-v-a542d316] {\\n  padding: 0.4rem 0.533333rem;\\n}\\n.passport-content .passport-tips[data-v-a542d316] {\\n  margin-top: 0.266667rem;\\n  line-height: 2;\\n  color: #333;\\n  text-align: left;\\n  font-size: 0.373333rem;\\n}\\n.passport-content .passport-footer[data-v-a542d316] {\\n  position: fixed;\\n  bottom: 0.533333rem;\\n  left: 0.533333rem;\\n  right: 0.533333rem;\\n}\\n.passport-content .passport-footer .btn[data-v-a542d316] {\\n  line-height: 1.066667rem;\\n  height: 1.066667rem;\\n  font-size: 0.373333rem;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"Um5G\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/extends.js\nvar helpers_extends = __webpack_require__(\"4YfN\");\nvar extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);\n\n// EXTERNAL MODULE: ./node_modules/_vuex@2.5.0@vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(\"HVJf\");\n\n// EXTERNAL MODULE: ./src/utils/validate.js\nvar validate = __webpack_require__(\"E4LH\");\n\n// EXTERNAL MODULE: ./node_modules/_vux@2.9.1@vux/src/components/x-button/index.vue + 3 modules\nvar x_button = __webpack_require__(\"eT+W\");\n\n// EXTERNAL MODULE: ./node_modules/_vux@2.9.1@vux/src/components/flexbox/flexbox.vue + 3 modules\nvar flexbox = __webpack_require__(\"mAm1\");\n\n// EXTERNAL MODULE: ./node_modules/_vux@2.9.1@vux/src/components/flexbox/flexbox-item.vue + 3 modules\nvar flexbox_item = __webpack_require__(\"NyFS\");\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vux-loader@1.2.8@vux-loader/src/script-loader.js!./node_modules/_vux-loader@1.2.8@vux-loader/src/script-loader.js!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=script&index=0!./src/views/up_pwd.vue\n\n\n\n\n\n\n\n\n/* harmony default export */ var up_pwd = ({\n  name: 'up_pwd',\n  components: {\n    XButton: x_button[\"a\" /* default */],\n    Flexbox: flexbox[\"a\" /* default */],\n    FlexboxItem: flexbox_item[\"a\" /* default */]\n  },\n  data: function data() {\n    return {\n      data: '',\n      id: '',\n      oldPassword: '',\n      newPassword: '',\n      reNewPassword: ''\n    };\n  },\n\n  created: function created() {\n    var that = this;\n    that.id = that.current;\n    that.$store.dispatch('UserInit', '');\n    if (that.info[that.id] !== undefined) {\n      that.data = that.info[that.id];\n    }\n  },\n  computed: extends_default()({}, Object(vuex_esm[\"b\" /* mapGetters */])(['info', 'current'])),\n  methods: {\n    reviseBtn: function reviseBtn() {\n      var that = this;\n      var _ref = [that.oldPassword, that.newPassword, that.reNewPassword],\n          oldPwdVal = _ref[0],\n          pwdVal = _ref[1],\n          rePwdVal = _ref[2];\n\n      if (oldPwdVal) {\n        if (!validate[\"a\" /* validate */].isPwd(oldPwdVal)) {\n          that.$vux.toast.text('当前密码需为6-20位字符！', 'top');\n          return false;\n        }\n      } else {\n        that.$vux.toast.text('当前密码不能为空！', 'top');\n        return false;\n      }\n      if (pwdVal) {\n        if (!validate[\"a\" /* validate */].isPwd(pwdVal)) {\n          that.$vux.toast.text('新密码需为6-20位字符！', 'top');\n          return false;\n        }\n      } else {\n        that.$vux.toast.text('新密码不能为空！', 'top');\n        return false;\n      }\n      if (rePwdVal) {\n        if (!validate[\"a\" /* validate */].isPwd(rePwdVal)) {\n          that.$vux.toast.text('新密码需为6-20位字符！', 'top');\n          return false;\n        } else if (pwdVal != rePwdVal) {\n          that.$vux.toast.text('密码不一致请重新输入！', 'top');\n          return false;\n        }\n      } else {\n        that.$vux.toast.text('确认新密码不能为空！', 'top');\n        return false;\n      }\n      var params = { keyBytes: 32, ivBytes: 16 };\n      var dk = keythereum.create(params);\n      var options = {\n        kdf: \"pbkdf2\",\n        cipher: \"aes-128-ctr\",\n        kdfparams: {\n          c: 262144,\n          dklen: 32,\n          prf: \"hmac-sha256\"\n        }\n      };\n      var global_keystore = that.data.keystore;\n      keythereum.recover(that.oldPassword, global_keystore, function (privateKey) {\n        var privateKey = privateKey.toString('hex');\n        if (privateKey && privateKey == 'Error: message authentication code mismatch') {\n          that.$vux.toast.text('交易密码不正确', 'top');\n        } else {\n          keythereum.dump(that.newPassword, privateKey, dk.salt, dk.iv, options, function (keyObject) {\n            that.$store.dispatch('updateKeyData', { id: that.id, keystore: keyObject }).then(function () {\n              that.$router.push({ name: 'detail', params: { id: that.id } });\n              that.$vux.toast.show({\n                type: 'success',\n                text: '密码修改成功'\n              });\n            }).catch(function (err) {\n              that.$vux.toast.text('钱包密码修改失败请刷新后重试！', 'top');\n            });\n          });\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vux-loader@1.2.8@vux-loader/src/script-loader.js!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=script&index=0!./src/views/up_pwd.vue\n\n\n\n\n\n\n\n\n/* harmony default export */ var views_up_pwd = ({\n  name: 'up_pwd',\n  components: {\n    XButton: x_button[\"a\" /* default */],\n    Flexbox: flexbox[\"a\" /* default */],\n    FlexboxItem: flexbox_item[\"a\" /* default */]\n  },\n  data: function data() {\n    return {\n      data: '',\n      id: '',\n      oldPassword: '',\n      newPassword: '',\n      reNewPassword: ''\n    };\n  },\n\n  created: function created() {\n    var that = this;\n    that.id = that.current;\n    that.$store.dispatch('UserInit', '');\n    if (that.info[that.id] !== undefined) {\n      that.data = that.info[that.id];\n    }\n  },\n  computed: extends_default()({}, Object(vuex_esm[\"b\" /* mapGetters */])(['info', 'current'])),\n  methods: {\n    reviseBtn: function reviseBtn() {\n      var that = this;\n      var _ref = [that.oldPassword, that.newPassword, that.reNewPassword],\n          oldPwdVal = _ref[0],\n          pwdVal = _ref[1],\n          rePwdVal = _ref[2];\n\n      if (oldPwdVal) {\n        if (!validate[\"a\" /* validate */].isPwd(oldPwdVal)) {\n          that.$vux.toast.text('当前密码需为6-20位字符！', 'top');\n          return false;\n        }\n      } else {\n        that.$vux.toast.text('当前密码不能为空！', 'top');\n        return false;\n      }\n      if (pwdVal) {\n        if (!validate[\"a\" /* validate */].isPwd(pwdVal)) {\n          that.$vux.toast.text('新密码需为6-20位字符！', 'top');\n          return false;\n        }\n      } else {\n        that.$vux.toast.text('新密码不能为空！', 'top');\n        return false;\n      }\n      if (rePwdVal) {\n        if (!validate[\"a\" /* validate */].isPwd(rePwdVal)) {\n          that.$vux.toast.text('新密码需为6-20位字符！', 'top');\n          return false;\n        } else if (pwdVal != rePwdVal) {\n          that.$vux.toast.text('密码不一致请重新输入！', 'top');\n          return false;\n        }\n      } else {\n        that.$vux.toast.text('确认新密码不能为空！', 'top');\n        return false;\n      }\n      var params = { keyBytes: 32, ivBytes: 16 };\n      var dk = keythereum.create(params);\n      var options = {\n        kdf: \"pbkdf2\",\n        cipher: \"aes-128-ctr\",\n        kdfparams: {\n          c: 262144,\n          dklen: 32,\n          prf: \"hmac-sha256\"\n        }\n      };\n      var global_keystore = that.data.keystore;\n      keythereum.recover(that.oldPassword, global_keystore, function (privateKey) {\n        var privateKey = privateKey.toString('hex');\n        if (privateKey && privateKey == 'Error: message authentication code mismatch') {\n          that.$vux.toast.text('交易密码不正确', 'top');\n        } else {\n          keythereum.dump(that.newPassword, privateKey, dk.salt, dk.iv, options, function (keyObject) {\n            that.$store.dispatch('updateKeyData', { id: that.id, keystore: keyObject }).then(function () {\n              that.$router.push({ name: 'detail', params: { id: that.id } });\n              that.$vux.toast.show({\n                type: 'success',\n                text: '密码修改成功'\n              });\n            }).catch(function (err) {\n              that.$vux.toast.text('钱包密码修改失败请刷新后重试！', 'top');\n            });\n          });\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-a542d316\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.8@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.8@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/up_pwd.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"passport-content\"},[_c('div',{staticClass:\"creat-wallet\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.oldPassword),expression:\"oldPassword\"}],staticClass:\"form-control form-control-active\",attrs:{\"type\":\"password\",\"show-clear\":\"false\",\"placeholder\":\"当前密码\"},domProps:{\"value\":(_vm.oldPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.oldPassword=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newPassword),expression:\"newPassword\"}],staticClass:\"form-control form-control-active\",attrs:{\"type\":\"password\",\"show-clear\":\"false\",\"placeholder\":\"新密码\"},domProps:{\"value\":(_vm.newPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newPassword=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reNewPassword),expression:\"reNewPassword\"}],staticClass:\"form-control form-control-active\",attrs:{\"type\":\"password\",\"show-clear\":\"false\",\"placeholder\":\"重复新密码\"},domProps:{\"value\":(_vm.reNewPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.reNewPassword=$event.target.value}}})]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"form-btn\"},[_c('flexbox',[_c('flexbox-item',[_c('x-button',{staticClass:\"btn\",attrs:{\"type\":\"default\"},nativeOn:{\"click\":function($event){return _vm.reviseBtn($event)}}},[_vm._v(\"确定修改\")])],1)],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"passport-tips\"},[_c('p',[_vm._v(\"忘记密码？导入助记词或者私钥可重置密码\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_views_up_pwd = (esExports);\n// CONCATENATED MODULE: ./src/views/up_pwd.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"VsWc\")\n}\nvar normalizeComponent = __webpack_require__(\"Z0/y\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a542d316\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  views_up_pwd,\n  selectortype_template_index_0_src_views_up_pwd,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_up_pwd = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"VsWc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"3dwZ\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"76c3e19e\", content, true, {});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/9.acb178f2c244fc6edfcb.js","exports = module.exports = require(\"../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.passport-content[data-v-a542d316] {\\n  padding: 0.4rem 0.533333rem;\\n}\\n.passport-content .passport-tips[data-v-a542d316] {\\n  margin-top: 0.266667rem;\\n  line-height: 2;\\n  color: #333;\\n  text-align: left;\\n  font-size: 0.373333rem;\\n}\\n.passport-content .passport-footer[data-v-a542d316] {\\n  position: fixed;\\n  bottom: 0.533333rem;\\n  left: 0.533333rem;\\n  right: 0.533333rem;\\n}\\n.passport-content .passport-footer .btn[data-v-a542d316] {\\n  line-height: 1.066667rem;\\n  height: 1.066667rem;\\n  font-size: 0.373333rem;\\n}\", \"\", {\"version\":3,\"sources\":[\"C:/wap_wallet/wallet/app/src/views/up_pwd.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,4BAA4B;CAC7B;AACD;EACE,wBAAwB;EACxB,eAAe;EACf,YAAY;EACZ,iBAAiB;EACjB,uBAAuB;CACxB;AACD;EACE,gBAAgB;EAChB,oBAAoB;EACpB,kBAAkB;EAClB,mBAAmB;CACpB;AACD;EACE,yBAAyB;EACzB,oBAAoB;EACpB,uBAAuB;CACxB\",\"file\":\"up_pwd.vue\",\"sourcesContent\":[\"\\n.passport-content[data-v-a542d316] {\\n  padding: 0.4rem 0.533333rem;\\n}\\n.passport-content .passport-tips[data-v-a542d316] {\\n  margin-top: 0.266667rem;\\n  line-height: 2;\\n  color: #333;\\n  text-align: left;\\n  font-size: 0.373333rem;\\n}\\n.passport-content .passport-footer[data-v-a542d316] {\\n  position: fixed;\\n  bottom: 0.533333rem;\\n  left: 0.533333rem;\\n  right: 0.533333rem;\\n}\\n.passport-content .passport-footer .btn[data-v-a542d316] {\\n  line-height: 1.066667rem;\\n  height: 1.066667rem;\\n  font-size: 0.373333rem;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a542d316\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_px2rem-loader@0.1.9@px2rem-loader?{\"remUnit\":75}!./node_modules/_sass-loader@7.0.1@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vux-loader@1.2.8@vux-loader/src/style-loader.js!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./src/views/up_pwd.vue\n// module id = 3dwZ\n// module chunks = 9","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a542d316\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vux-loader@1.2.8@vux-loader/src/style-loader.js!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./up_pwd.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vux-loader@1.2.8@vux-loader/src/script-loader.js!../../node_modules/_vux-loader@1.2.8@vux-loader/src/script-loader.js!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./up_pwd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vux-loader@1.2.8@vux-loader/src/script-loader.js!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./up_pwd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a542d316\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vux-loader@1.2.8@vux-loader/src/before-template-compiler-loader.js!../../node_modules/_vux-loader@1.2.8@vux-loader/src/template-loader.js!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./up_pwd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a542d316\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/up_pwd.vue\n// module id = null\n// module chunks = ","\nimport { mapGetters } from 'vuex'\nimport { validate } from 'utils/validate'\nimport XButton from 'vux/src/components/x-button/index.vue'\nimport Flexbox from 'vux/src/components/flexbox/flexbox.vue'\nimport FlexboxItem from 'vux/src/components/flexbox/flexbox-item.vue'\n\nexport default {\nname: 'up_pwd',\ncomponents: {\nXButton,\nFlexbox,\nFlexboxItem,\n},\ndata () {\nreturn {\ndata:'',\nid:'',\noldPassword: '',\nnewPassword:'',\nreNewPassword:''\n}\n},\ncreated: function () {\nvar that = this\nthat.id = that.current\nthat.$store.dispatch('UserInit', '');\nif(that.info[that.id] !== undefined ) {\nthat.data = that.info[that.id]\n}\n},\ncomputed: {\n...mapGetters([\n'info',\n'current'\n])\n},\nmethods: {\nreviseBtn() {\nvar that = this\nlet [oldPwdVal, pwdVal, rePwdVal] = [that.oldPassword, that.newPassword, that.reNewPassword]\nif(oldPwdVal){\nif (!validate.isPwd(oldPwdVal)){\nthat.$vux.toast.text('当前密码需为6-20位字符！', 'top');\nreturn false\n}\n} else {\nthat.$vux.toast.text('当前密码不能为空！', 'top');\nreturn false\n}\nif(pwdVal){\nif (!validate.isPwd(pwdVal)){\nthat.$vux.toast.text('新密码需为6-20位字符！', 'top');\nreturn false\n}\n} else {\nthat.$vux.toast.text('新密码不能为空！', 'top');\nreturn false\n}\nif(rePwdVal){\nif (!validate.isPwd(rePwdVal)){\nthat.$vux.toast.text('新密码需为6-20位字符！', 'top');\nreturn false\n} else if(pwdVal != rePwdVal) {\nthat.$vux.toast.text('密码不一致请重新输入！', 'top');\nreturn false\n}\n} else {\nthat.$vux.toast.text('确认新密码不能为空！', 'top');\nreturn false\n}\nvar params = { keyBytes: 32, ivBytes: 16 };\nvar dk = keythereum.create(params);\nvar options = {\nkdf: \"pbkdf2\",\ncipher: \"aes-128-ctr\",\nkdfparams: {\nc: 262144,\ndklen: 32,\nprf: \"hmac-sha256\"\n}\n};\nlet global_keystore =  that.data.keystore\nkeythereum.recover(that.oldPassword, global_keystore, function (privateKey) {\nvar privateKey = privateKey.toString('hex')\nif (privateKey && privateKey == 'Error: message authentication code mismatch') {\nthat.$vux.toast.text('交易密码不正确', 'top')\n} else {\nkeythereum.dump(that.newPassword, privateKey, dk.salt, dk.iv,  options, function (keyObject) {\nthat.$store.dispatch('updateKeyData', {id: that.id,keystore: keyObject}).then(() => {\nthat.$router.push({name: 'detail', params: {id: that.id}})\nthat.$vux.toast.show({\ntype: 'success',\ntext: '密码修改成功',\n})\n}).catch(err => {\nthat.$vux.toast.text('钱包密码修改失败请刷新后重试！', 'top')\n});\n})\n}\n});\n}\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/up_pwd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"passport-content\"},[_c('div',{staticClass:\"creat-wallet\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.oldPassword),expression:\"oldPassword\"}],staticClass:\"form-control form-control-active\",attrs:{\"type\":\"password\",\"show-clear\":\"false\",\"placeholder\":\"当前密码\"},domProps:{\"value\":(_vm.oldPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.oldPassword=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newPassword),expression:\"newPassword\"}],staticClass:\"form-control form-control-active\",attrs:{\"type\":\"password\",\"show-clear\":\"false\",\"placeholder\":\"新密码\"},domProps:{\"value\":(_vm.newPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newPassword=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reNewPassword),expression:\"reNewPassword\"}],staticClass:\"form-control form-control-active\",attrs:{\"type\":\"password\",\"show-clear\":\"false\",\"placeholder\":\"重复新密码\"},domProps:{\"value\":(_vm.reNewPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.reNewPassword=$event.target.value}}})]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"form-btn\"},[_c('flexbox',[_c('flexbox-item',[_c('x-button',{staticClass:\"btn\",attrs:{\"type\":\"default\"},nativeOn:{\"click\":function($event){return _vm.reviseBtn($event)}}},[_vm._v(\"确定修改\")])],1)],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"passport-tips\"},[_c('p',[_vm._v(\"忘记密码？导入助记词或者私钥可重置密码\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-a542d316\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.8@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.8@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/up_pwd.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a542d316\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_px2rem-loader@0.1.9@px2rem-loader/index.js?{\\\"remUnit\\\":75}!../../node_modules/_sass-loader@7.0.1@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../node_modules/_vux-loader@1.2.8@vux-loader/src/style-loader.js!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./up_pwd.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"76c3e19e\", content, true, {});\n\n\n// WEBPACK FOOTER //\n// \"}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a542d316\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_px2rem-loader@0.1.9@px2rem-loader?{\"remUnit\":75}!./node_modules/_sass-loader@7.0.1@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vux-loader@1.2.8@vux-loader/src/style-loader.js!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./src/views/up_pwd.vue"],"sourceRoot":""}